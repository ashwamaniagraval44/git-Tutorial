utility function of verrsion 3