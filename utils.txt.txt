utility function of verrsion 4